{"version":3,"sources":["webpack:///./src/views/Yellow.vue","webpack:///./src/views/Yellow.vue?cc71"],"names":["class","$store","state","lights","light","key","id","style","color","isActive","isBlinking","getters","isTimerBelow","name","components","TrafficLight","data","actionTime","methods","changeActive","this","commit","setTimer","changeCurrPath","$router","currentRoute","value","path","nextLight","prevPath","push","mounted","curPath","curPathFromStore","currPath","timer","computed","isTimeout","isTimerZero","watch","newVal","__exports__","render"],"mappings":"4IACOA,MAAM,U,qFAAX,eAQM,MARN,EAQM,E,mBAPJ,eAME,2BALgB,EAAAC,OAAOC,MAAMC,QAAM,SAA5BC,G,wBADT,eAME,GAJCC,IAAKD,EAAME,GACXC,MAAK,gCAAqBH,EAAMI,QAChCC,SAAUL,EAAMK,SAChBC,WAAuB,WAAXN,EAAMI,OAAsB,EAAAP,OAAOU,QAAQC,c,qEAQ/C,GACbC,KAAM,SACNC,WAAY,CACVC,eAAA,MAGFC,KANa,WAOX,MAAO,CACLC,WAAY,IAIhBC,QAAS,CACPC,aADO,WAELC,KAAKnB,OAAOoB,OAAO,eAAgB,IAGrCC,SALO,WAMLF,KAAKnB,OAAOoB,OAAO,WAAYD,KAAKH,aAGtCM,eATO,WAULH,KAAKnB,OAAOoB,OAAO,iBAAkBD,KAAKI,QAAQC,aAAaC,MAAMC,OAGvEC,UAbO,WAc6B,SAA/BR,KAAKnB,OAAOC,MAAM2B,SACnBT,KAAKI,QAAQM,KAAK,UACsB,WAA/BV,KAAKnB,OAAOC,MAAM2B,SAC3BT,KAAKI,QAAQM,KAAK,QAElBV,KAAKI,QAAQM,KAAK,UAEpBV,KAAKnB,OAAOoB,OAAO,iBAAkBD,KAAKI,QAAQC,aAAaC,MAAMC,QAIzEI,QArCa,WAsCX,IAAMC,EAAUZ,KAAKI,QAAQC,aAAaC,MAAMC,KAC1CM,EAAmBb,KAAKnB,OAAOC,MAAMgC,SACxCd,KAAKnB,OAAOC,MAAMiC,MAAQ,GAAKH,IAAYC,IAC5Cb,KAAKH,WAAaG,KAAKnB,OAAOC,MAAMiC,OAEtCf,KAAKG,iBACLH,KAAKD,eACLC,KAAKE,YAGPc,SAAU,CACRC,UADQ,WAEN,OAAOjB,KAAKnB,OAAOU,QAAQ2B,cAI/BC,MAAO,CACLF,UADK,SACKG,GACLA,GACDpB,KAAKQ,e,qBCnEb,MAAMa,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD","file":"js/chunk-2d0a3183.54b553c0.js","sourcesContent":["<template>\r\n  <div class=\"lights\">\r\n    <TrafficLight \r\n      v-for=\"light in $store.state.lights\"\r\n      :key=\"light.id\"\r\n      :style=\"{ backgroundColor: light.color }\"\r\n      :isActive=\"light.isActive\"\r\n      :isBlinking=\"light.color === 'yellow' && $store.getters.isTimerBelow\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport TrafficLight from \"@/components/TrafficLight.vue\";\r\n\r\nexport default {\r\n  name: \"Yellow\",\r\n  components: {\r\n    TrafficLight,\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      actionTime: 3,\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    changeActive() {\r\n      this.$store.commit('changeActive', 2);\r\n    },\r\n\r\n    setTimer() {\r\n      this.$store.commit('setTimer', this.actionTime);\r\n    },\r\n\r\n    changeCurrPath() {\r\n      this.$store.commit('changeCurrPath', this.$router.currentRoute.value.path);\r\n    },\r\n\r\n    nextLight() {\r\n      if(this.$store.state.prevPath === '/red') {\r\n        this.$router.push('/green');\r\n      } else if (this.$store.state.prevPath === '/green') {\r\n        this.$router.push('/red');\r\n      } else {\r\n        this.$router.push('/green');\r\n      }\r\n      this.$store.commit('changePrevPath', this.$router.currentRoute.value.path);\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n    const curPath = this.$router.currentRoute.value.path;\r\n    const curPathFromStore = this.$store.state.currPath;\r\n    if(this.$store.state.timer > 0 && curPath === curPathFromStore) {\r\n      this.actionTime = this.$store.state.timer;\r\n    }\r\n    this.changeCurrPath();\r\n    this.changeActive();\r\n    this.setTimer();\r\n  },\r\n\r\n  computed: {\r\n    isTimeout() {\r\n      return this.$store.getters.isTimerZero;\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    isTimeout(newVal) {\r\n      if(newVal) {\r\n        this.nextLight();\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import { render } from \"./Yellow.vue?vue&type=template&id=75961569\"\nimport script from \"./Yellow.vue?vue&type=script&lang=js\"\nexport * from \"./Yellow.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\Анна\\\\Desktop\\\\web\\\\traffic_lights\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}