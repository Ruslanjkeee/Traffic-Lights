{"version":3,"sources":["webpack:///./src/views/Green.vue","webpack:///./src/views/Green.vue?88e5"],"names":["class","$store","state","lights","light","key","id","style","color","isActive","isBlinking","getters","isTimerBelow","name","components","TrafficLight","data","actionTime","methods","changeActive","this","commit","setTimer","changeCurrPath","$router","currentRoute","value","path","nextLight","push","mounted","curPath","curPathFromStore","currPath","timer","computed","isTimeout","isTimerZero","watch","newVal","__exports__","render"],"mappings":"4IACOA,MAAM,U,qFAAX,eAQM,MARN,EAQM,E,mBAPJ,eAME,2BALkB,EAAAC,OAAOC,MAAMC,QAAM,SAA5BC,G,wBADX,eAME,GAJGC,IAAKD,EAAME,GACXC,MAAK,gCAAqBH,EAAMI,QAChCC,SAAUL,EAAMK,SAChBC,WAAuB,UAAXN,EAAMI,OAAqB,EAAAP,OAAOU,QAAQC,c,qEAQ/C,GACZC,KAAM,QACNC,WAAY,CACRC,eAAA,MAGJC,KANY,WAOR,MAAO,CACHC,WAAY,KAIpBC,QAAS,CACLC,aADK,WAEDC,KAAKnB,OAAOoB,OAAO,eAAgB,IAGvCC,SALK,WAMLF,KAAKnB,OAAOoB,OAAO,WAAYD,KAAKH,aAGpCM,eATK,WAUDH,KAAKnB,OAAOoB,OAAO,iBAAkBD,KAAKI,QAAQC,aAAaC,MAAMC,OAGzEC,UAbK,WAcDR,KAAKnB,OAAOoB,OAAO,iBAAkBD,KAAKI,QAAQC,aAAaC,MAAMC,MACrEP,KAAKI,QAAQK,KAAK,aAI1BC,QA/BY,WAgCR,IAAMC,EAAUX,KAAKI,QAAQC,aAAaC,MAAMC,KAC1CK,EAAmBZ,KAAKnB,OAAOC,MAAM+B,SAExCb,KAAKnB,OAAOC,MAAMgC,MAAQ,GAAKH,IAAYC,IAC1CZ,KAAKH,WAAaG,KAAKnB,OAAOC,MAAMgC,OAExCd,KAAKG,iBACLH,KAAKD,eACLC,KAAKE,YAGTa,SAAU,CACNC,UADM,WAEF,OAAOhB,KAAKnB,OAAOU,QAAQ0B,cAInCC,MAAO,CACHF,UADG,SACOG,GACHA,GACAnB,KAAKQ,e,qBC9DpB,MAAMY,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD","file":"js/chunk-2d0c22ed.d0c7b383.js","sourcesContent":["<template>\r\n  <div class=\"lights\">\r\n    <TrafficLight \r\n        v-for=\"light in $store.state.lights\"\r\n        :key=\"light.id\"\r\n        :style=\"{ backgroundColor: light.color }\"\r\n        :isActive=\"light.isActive\"\r\n        :isBlinking=\"light.color === 'green' && $store.getters.isTimerBelow\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport  TrafficLight  from '@/components/TrafficLight.vue';\r\n\r\nexport default ({\r\n    name: \"Green\",\r\n    components: {\r\n        TrafficLight,\r\n    },\r\n\r\n    data() {\r\n        return {\r\n            actionTime: 15,\r\n        }\r\n    },\r\n\r\n    methods: {\r\n        changeActive() {\r\n            this.$store.commit('changeActive', 3);\r\n        },\r\n\r\n        setTimer() {\r\n        this.$store.commit('setTimer', this.actionTime);\r\n        },\r\n\r\n        changeCurrPath() {\r\n            this.$store.commit('changeCurrPath', this.$router.currentRoute.value.path);\r\n        },\r\n\r\n        nextLight() {\r\n            this.$store.commit('changePrevPath', this.$router.currentRoute.value.path);\r\n            this.$router.push('/yellow');\r\n        }\r\n    },\r\n\r\n    mounted() {\r\n        const curPath = this.$router.currentRoute.value.path;\r\n        const curPathFromStore = this.$store.state.currPath;\r\n        \r\n        if(this.$store.state.timer > 0 && curPath === curPathFromStore) {\r\n            this.actionTime = this.$store.state.timer;\r\n        }\r\n        this.changeCurrPath();\r\n        this.changeActive();\r\n        this.setTimer();\r\n    },\r\n\r\n    computed: {\r\n        isTimeout() {\r\n            return this.$store.getters.isTimerZero;\r\n        }\r\n    },\r\n\r\n    watch: {\r\n        isTimeout(newVal) {\r\n            if(newVal) {\r\n               this.nextLight();\r\n            }\r\n        }\r\n    }\r\n})\r\n</script>\r\n","import { render } from \"./Green.vue?vue&type=template&id=2aadec16\"\nimport script from \"./Green.vue?vue&type=script&lang=js\"\nexport * from \"./Green.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\Анна\\\\Desktop\\\\web\\\\traffic_lights\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}